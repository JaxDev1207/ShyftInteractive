<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="ShyftInteractiveLogoV2.png" href="/ShyftInteractiveLogoV2.png">
  <title>Monkle | Shyft Interactive</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#181818] text-white font-sans">
<!-- NAVBAR -->
<div id="navbar" class="w-full flex items-center justify-between px-5 py-3"
     style="background:#0d0f12; border-bottom:1px solid #1f242b;">

  <div class="text-xl font-bold" style="color:#58a6ff;">
    Shyft Interactive
  </div>

  <div id="userMenu" class="relative hidden">
    <button id="userBtn" class="flex items-center gap-2 cursor-pointer">
      <img id="navAvatar" src="/default-avatar.png"
           style="width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #1f242b;">
      <span id="navUsername" style="color:white;font-weight:600;"></span>
    </button>

    <!-- DROPDOWN -->
    <div id="dropdownMenu" 
         class="absolute right-0 mt-2 w-44 rounded-md shadow-lg hidden"
         style="background:#111418;border:1px solid #1f242b;">
      
      <a href="/dashboard.html" 
         class="block px-3 py-2 hover:bg-[#1a1f24] text-sm text-gray-200">
         My Account
      </a>

      <a href="/dashboard.html"
         class="block px-3 py-2 hover:bg-[#1a1f24] text-sm text-gray-200">
         Dashboard
      </a>

      <button id="logoutBtn"
              class="w-full text-left px-3 py-2 hover:bg-[#1a1f24] text-sm text-red-400">
        Sign Out
      </button>
    </div>

  </div>

  <!-- Login Button if not logged in -->
  <a id="loginLink" href="/login.html" 
     class="px-4 py-2 rounded-md text-white font-semibold"
     style="background:#2563eb;">
     Sign In
  </a>

</div>

  <!-- HEADER -->
  <header class="flex justify-between items-center px-10 py-6 border-b border-gray-700">
    <h1 class="text-2xl font-bold tracking-wide">Shyft Interactive</h1>
    <div class="flex items-center gap-8">
      <a href="https://discord.gg/PTFGB5kNTg" target="_blank" rel="noopener"
        class="px-4 py-2 rounded-md text-sm font-semibold shadow hover:opacity-90 transition"
        style="background-color: #5865F2; color: white;">Discord Server</a>
      <nav class="space-x-8">
        <a href="../../home/" class="hover:text-sky-400 transition">Home</a>
        <a href="../" class="hover:text-sky-400 transition">Browse Games</a>
        <a href="../../privacy-policy/" class="hover:text-sky-400 transition">Privacy Policy</a>
        <a href="../../contact/" class="hover:text-sky-400 transition">Contact</a>
        <a href="../../guidlines/" class="hover:text-sky-400 transition">Guidelines</a>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main class="flex flex-col items-center text-center mt-20 px-6">
    <h2 class="text-5xl font-semibold mb-4 text-sky-400">Monkle</h2>
    <p class="text-gray-400 text-lg max-w-2xl mb-8">
      Monkle is a Gorilla Tag fan game like Munkz VR and MonkGame.
    </p>

    <img src="https://scontent-atl3-1.oculuscdn.com/v/t64.5771-25/491820619_4515595062029015_7173071083792239524_n.jpg?stp=dst-jpg_q92_s2048x2048_tt6&_nc_cat=100&ccb=1-7&_nc_sid=6e7a0a&_nc_ohc=-WEKzCsWd8gQ7kNvwEVFtOf&_nc_oc=Adnuqd1hxv3LMvKBLl46uVXnaCOUkzuQl1nE8JTD2iNT6TI4PNjkL-K20fUqN4FpvsezFmHjSh-MqpdfwFZPDW1I&_nc_zt=3&_nc_ht=scontent-atl3-1.oculuscdn.com&oh=00_AfcdDIyHwD3gfMUJrnmhmnr1ZPTxS_adBeJOQ-EJ0So9Pw&oe=68FC843F" alt="Example Game" class="rounded-2xl mb-10 shadow">

    <div class="max-w-3xl text-left text-gray-300 space-y-6">
      <p><strong>Genre:</strong> Platformer / Action</p>
      <p><strong>Engine:</strong> Unity</p>
      <p><strong>Networking:</strong> Photon / PlayFab</p>
      <p><strong>Status:</strong> Released</p>
      <p><strong>Description:</strong> Monkle is a Gorilla Tag fan game like Munkz VR and MonkGame. There really is no main theme, its really a general game for all to enjoy. The Monkle developer(s) focus on making the game safe for all ages and great looking. We are currently in a beta state as of 9/20/2025. Monkle offers a wide variety of fun, whether you want to shop window to window, or just make a YouTube/TikTok video we have a place for it. Be Monke Play Monkle.</p>
    </div>

     <a href="https://www.meta.com/en-gb/experiences/monkle/23978046211869850/" target="_blank"
      class="mt-10 inline-block bg-sky-500 hover:bg-sky-600 text-white px-6 py-3 rounded-lg font-medium transition">
      Download Monkle
    </a>
    <a href="https://discord.gg/DwfcvnNkJC" target="_blank"
      class="mt-10 inline-block bg-sky-500 hover:bg-sky-600 text-white px-6 py-3 rounded-lg font-medium transition">
      Join Our Community
    </a>
  </main>

  <!-- FOOTER -->
  <footer class="text-center text-gray-500 mt-16 pb-8">
    <p>© 2025 Shyft Interactive. All rights reserved.</p>
  </footer>
<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

const supabase = createClient(
  "https://lygupyafoyxbcwtflwji.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx5Z3VweWFmb3l4YmN3dGZsd2ppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNTk5MjgsImV4cCI6MjA3ODgzNTkyOH0.NF0Qt9iWkd4YB_hShe4bQ2JpPUyi4V9ibbvs6z9Ze5g"
);

// DOM
const userMenu = document.getElementById("userMenu");
const loginLink = document.getElementById("loginLink");
const navAvatar = document.getElementById("navAvatar");
const navUsername = document.getElementById("navUsername");
const dropdownMenu = document.getElementById("dropdownMenu");
const userBtn = document.getElementById("userBtn");

// Dropdown toggle
userBtn?.addEventListener("click", () => {
  dropdownMenu.classList.toggle("hidden");
});

// Load session
const { data } = await supabase.auth.getSession();
const user = data?.session?.user;

if (user) {
  // Logged in → show menu, hide login button
  userMenu.classList.remove("hidden");
  loginLink.classList.add("hidden");

  // Load profile row
  const { data: profile } = await supabase
    .from("profiles")
    .select("*")
    .eq("id", user.id)
    .single();

  // Set username
  navUsername.textContent = profile?.username || "User";

  // Set avatar
  navAvatar.src = profile?.avatar_url || "/default-avatar.png";

} else {
  // Not logged in → hide user menu
  userMenu.classList.add("hidden");
  loginLink.classList.remove("hidden");
}

// Logout
document.getElementById("logoutBtn")?.addEventListener("click", async () => {
  await supabase.auth.signOut();
  window.location.href = "/login.html";
});

</script>

</body>
</html>
